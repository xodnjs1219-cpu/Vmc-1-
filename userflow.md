# 블로그 체험단 SaaS — 기능단위 유저플로우 최종본

## 1. 회원가입 & 역할선택

### 입력

- 이름, 휴대폰번호, 이메일, 약관동의, 역할(광고주/인플루언서), 인증 방식(이메일/외부)

### 처리

- 유효성 검사, Auth 계정 생성(Supabase), 프로필 최소 레코드 생성, 약관 이력 저장, 역할 저장, 이메일 검증 플로우, 레이트 리밋·봇 방지

### 출력

- 상태 피드백, 인증 메일/코드 발송, 프로필 저장, 이후 역할별 플로우 분기(광고주/인플루언서 정보 등록)

---

## 2. 인플루언서 정보 등록

### 입력

- 생년월일, SNS 채널 유형/채널명/URL, 채널 추가·편집·삭제, 제출/임시저장

### 처리

- 날짜/URL 정규화, 나이 정책 검증, 채널 패턴 매칭, DB 저장(`influencer_profiles`, `influencer_channels`), 비동기 검증 잡 큐, 메트릭 수집(선택)

### 출력

- 채널 상태(검증대기/성공/실패), 저장 성공/실패 피드백, 검증 진행 상태 표시, 체험단 지원 가능 여부 가드

---

## 3. 광고주 정보 등록

### 입력

- 업체명, 위치, 카테고리, 사업자등록번호, 제출/임시저장

### 처리

- 필드 정규화, 형식·중복 검증, DB 저장(`advertiser_profiles`), 외부 사업자번호 검증 잡 큐, 중복 차단, 레이트 리밋

### 출력

- 저장 결과(성공/검증대기/실패), 프로필 확정 여부, 체험단 관리 권한 부여

---

## 4. 홈 & 체험단 목록 탐색

### 입력

- 홈 접속, 필터/정렬 선택, 모집 중 체험단 카드 클릭

### 처리

- DB 조회(모집 중 체험단), 페이징/정렬 적용, 배너 로드

### 출력

- 모집 리스트 렌더링, 체험단 상세 페이지 이동 경로

---

## 5. 체험단 상세

### 입력

- 체험단 카드 클릭 → 상세 페이지 진입, 지원 버튼 클릭

### 처리

- DB에서 모집정보 조회(기간, 혜택, 미션, 매장, 모집인원), 사용자 권한 체크(인플루언서 등록 완료 여부)

### 출력

- 체험단 상세 표시, 지원 가능 여부 버튼 노출, 접근 제한 시 가드 피드백

---

## 6. 체험단 지원

### 입력

- 각오 한마디, 방문 예정일자, 제출

### 처리

- 유효성 검사, DB 저장(`applications`), 중복 지원 방지, 모집기간 내 여부 확인

### 출력

- 제출 성공/실패 상태, 내 지원 목록 업데이트, 감사 로그 기록

---

## 7. 내 지원 목록 (인플루언서 전용)

### 입력

- 메뉴에서 "내 지원 목록" 접근, 상태 필터 선택

### 처리

- DB 조회(본인 지원 목록, 상태 필터 적용)

### 출력

- 지원 목록(신청완료/선정/반려) 렌더링, 상세 지원 상태 피드백

---

## 8. 광고주 체험단 관리

### 입력

- "체험단 관리" 접근, 신규 체험단 등록 버튼 클릭(Dialog), 등록 정보 입력 및 제출

### 처리

- 광고주 권한 검증, 필드 유효성 검사, DB 저장(`campaigns`), 상태=모집중

### 출력

- 내가 등록한 체험단 목록 렌더링, 신규 등록 성공 시 목록 갱신

---

## 9. 광고주 체험단 상세 & 모집 관리

### 입력

- 체험단 상세 접근, 모집종료 버튼 클릭, 체험단 선정 버튼 클릭 → 인원 선택 후 제출

### 처리

- DB 조회(지원자 리스트), 상태=모집중 → 모집종료 전환, 모집종료 → 선정 프로세스 실행, 선정 인원 적용 후 상태=선정완료

### 출력

- 신청 현황 테이블 표시, 모집 상태 전환 피드백, 선정 결과 반영, 인플루언서 쪽 상태 업데이트

---

# 최종 요약

- **인플루언서 경로**: 회원가입 → 인플루언서 등록 → 홈 탐색 → 체험단 상세 → 지원 → 내 지원 목록 관리
- **광고주 경로**: 회원가입 → 광고주 등록 → 체험단 관리 → 체험단 상세/모집/선정